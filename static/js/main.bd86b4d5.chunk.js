/*! For license information please see main.bd86b4d5.chunk.js.LICENSE.txt */
(this["webpackJsonpslider-app"]=this["webpackJsonpslider-app"]||[]).push([[0],{50:function(e,t){},63:function(e,t,a){},64:function(e,t,a){},83:function(e,t){},84:function(e,t){},86:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(1),i=a.n(c),s=a(13),o=a.n(s),l=(a(63),a(15)),r=a(16),d=a(12),u=a(19),h=a(18),b=(a.p,a(64),a(45)),j=a(46);j.a.initializeApp({apiKey:"AIzaSyA3Jx8S_Yh6vdOI9RRP1ybnuG_Kvox093g",authDomain:"slider-app1.firebaseapp.com",databaseURL:"https://slider-app1.firebaseio.com",projectId:"slider-app1",storageBucket:"slider-app1.appspot.com",messagingSenderId:"813536171331",appId:"1:813536171331:web:ee4f67d30e6b1f45c48bf6",measurementId:"G-2PMF6CRJ79"});var f=j.a.firestore(),v=(a(27),a(95)),O=a(92),g=a(93),m=a(96),x=a(97),p=a(24),S=a.n(p),y=a(30),C=a(34),k=a(31),D=a(11),N=a(94),T=a(17),V=a.n(T),w=a(51),R=a(43),I=a(32),E=a.n(I),U=function(e){var t=Object(c.useState)(),a=Object(D.a)(t,2),i=a[0],s=a[1],o=Object(c.useState)(""),l=Object(D.a)(o,2),r=l[0],d=l[1],u=Object(c.useState)(""),h=Object(D.a)(u,2),b=h[0],j=h[1],f=Object(c.useState)(),v=Object(D.a)(f,2),m=v[0],x=v[1],p=Object(c.useState)([]),T=Object(D.a)(p,2),I=(T[0],T[1],Object(c.useState)(!1)),U=Object(D.a)(I,2),B=(U[0],U[1]),L=Object(c.useState)([]),M=Object(D.a)(L,2),J=M[0],F=M[1],G=Object(c.useState)(!0),H=Object(D.a)(G,2),P=H[0],A=H[1],W=Object(c.useState)(""),z=Object(D.a)(W,2),K=z[0],_=z[1],Y=Object(c.useState)(),q=Object(D.a)(Y,2),Q=q[0],X=q[1],Z=Object(c.useState)({}),$=Object(D.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)([["notSaved"],["notSaved"]]),ne=Object(D.a)(ae,2),ce=ne[0],ie=ne[1],se=Object(c.useState)(!1),oe=Object(D.a)(se,2),le=oe[0],re=oe[1],de=Object(c.useState)(!1),ue=Object(D.a)(de,2),he=ue[0],be=ue[1],je=Object(c.useState)([]),fe=Object(D.a)(je,2),ve=(fe[0],fe[1],Object(c.useState)(Object(n.jsx)("h6",{children:"wait"}))),Oe=Object(D.a)(ve,2),ge=Oe[0],me=Oe[1];function xe(){e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0],a=t.data(),n=(t.id,a.firstName),c=a.lastName;console.log("name: "+n+" "+c),d(n+" "+c)}))}function pe(){if(console.log("update: "+i),void 0!=i)e.db.doc(i).onSnapshot((function(e){var t=e.data();x(t),Ce(),xe()}),(function(e){console.log("Encountered error: ".concat(e))}))}function Se(){A(!0);var t=e.db;console.log(t),t.add({calibrationTests:[],time:V()(new Date,"yyyy-mm-dd HH:MM:ss")}).then((function(e){console.log("*** STARTED NEW DOC: "+e.id),_(e.id)})).then((function(){e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0],a=t.data(),n=t.id;s(n);var c=a.time.split(" ")[1].split(":");j(c[0]+":"+c[1]),B(!0),xe(),pe(),Ce()}))}))}function ye(t){var a=t.target.value,n=t.target.name,c=ee;c[n]=a,te(c),X(Object(k.a)(Object(k.a)({},Q),{},Object(C.a)({},t.target.name,a)));var i=e.db;i.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0],c=(i.doc(t.id),t.data().calibrationTests);console.log("calbs: "+JSON.stringify(c)),c[n]=Object(k.a)(Object(k.a)({},c[n]),{},{text:a})}))}function Ce(){if(m)e.db.doc(i).onSnapshot((function(e){var t=e.data();console.log("*** RENDERING list of :".concat(e.id));var a=[],c=t.calibrationTests,i=0;c.forEach((function(e){var t=null===e||void 0===e?void 0:e.text,c=e.time;console.log("text :"+t),a.push(Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:Object(n.jsx)("form",{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("textarea",{name:i,type:"text",value:Q,onChange:ye,style:{width:"600px",height:"50px"},children:t}),e.testNum," - ",e.value," , ",c]})})})})),i++})),console.log(e.id+" *,* "+K),a.length>0?(F(a),e.id===K&&console.log("***renering the newest list")):F(Object(n.jsx)("h6",{children:"\u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d9\u05d5\u05e2\u05d3\u05db\u05e0\u05d5 \u05db\u05d0\u05e9\u05e8 \u05d4\u05e0\u05d9\u05e1\u05d5\u05d9 \u05d9\u05d7\u05dc"}))}),(function(e){console.log("Encountered error: ".concat(e))}))}function ke(){return(ke=Object(y.a)(S.a.mark((function t(){var a,c,i,s,o,l,r,d,u;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.db,t.next=3,a.orderBy("time","desc").limit(100).get();case 3:return c=t.sent,i=0,s=["calibrationTests","time","firstName","lastName"],o=0,l=[],r=[],d={},t.next=12,c.forEach((function(e){var t=e.data(),a=t.time,c=new Date;d={},l=[];var s=c.setDate(c.getDate()-14);if(Date.parse(a)>s){for(var u=0,h=Object.entries(t);u<h.length;u++){var b=Object(D.a)(h[u],2),j=b[0],f=b[1];"calibrationTests"!==j&&(d[j]=f,l.push(Object(n.jsx)(E.a.Column,{label:j,value:j})))}console.log("currData : "+JSON.stringify(d)),i++;var v=t.calibrationTests;o=0,v&&v.forEach((function(e){var t=e.testNum+"  ["+o.toString()+"]",a=e.value;ee[o]&&(a=a+" , "+ee[o]),d[t]=a,l.push(Object(n.jsx)(E.a.Column,{label:t,value:t})),o++}));var O=Object(n.jsx)(E.a.Sheet,{data:[d],name:"".concat(d.firstName," ").concat(d.lastName," ").concat(i),children:l});r.push(O)}}));case 12:new R.Parser({fields:s,unwind:s,encoding:"uft8"}),u=Object(n.jsx)(E.a,{filename:"last2weeks.xlsx",element:Object(n.jsx)("button",{className:"btn btn-lg btn-primary",children:"\u05dc\u05d7\u05e6/\u05d9 \u05dc\u05d4\u05d5\u05d3\u05e8\u05ea \u05d4\u05e9\u05d1\u05d5\u05e2\u05d9\u05d9\u05dd \u05d4\u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"}),children:r}),me(u),be(!0),console.log("workbook: "+JSON.stringify(u));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function De(){return(De=Object(y.a)(S.a.mark((function t(){var a,n,c,i,s,o,l,r,d,u;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee,a=e.db,t.next=4,a.orderBy("time","desc").limit(1).get();case 4:n=t.sent,c=n.docs[0],i=c.data(),console.log("exporting: ".concat(JSON.stringify(i))),s=["calibrationTests","time","firstName","lastName"],o=i.calibrationTests,l=0,r={},o.forEach((function(e){var t=e.testNum+"  ["+l.toString()+"]",a=e.value;s.push(t),i[t]=a,r[t]=a,ee[l]&&(a=a+" , "+ee[l]),i[t]=a,l++})),d=new R.Parser({fields:s,unwind:s,encoding:"uft8"}),delete i.calibrationTests,u=d.parse(i),ie(u),console.log("output",u);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0],a=t.data(),n=t.id;s(n),x(e);var c=a.time.split(" ")[1].split(":");j(c[0]+":"+c[1]),B(!0),pe(),Ce()})),function(){}}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"\u05d3\u05e3 \u05de\u05e0\u05d4\u05dc"}),Object(n.jsxs)("h6",{children:["\u05e9\u05dd \u05d4\u05e0\u05e1\u05d9\u05d9\u05df: ",r," "]}),Object(n.jsxs)("h6",{children:["\u05d6\u05de\u05df \u05ea\u05d7\u05d9\u05dc\u05ea \u05d4\u05e0\u05d9\u05e1\u05d5\u05d9: ",b," "]}),Object(n.jsx)(O.a,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(N.a,{variant:"primary",onClick:function(){Se()},children:"\u05d4\u05ea\u05d7\u05dc \u05e0\u05d9\u05e1\u05d5\u05d9 \u05e2\u05d1\u05d5\u05e8 \u05e0\u05e1\u05d9\u05d9\u05df \u05d7\u05d3\u05e9"}),"|",Object(n.jsx)(N.a,{variant:"success",onClick:function(){e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0];console.log("*** CONTINUE last doc: "+t.id),A(!1),Ce(),xe()}))},children:"\u05d4\u05de\u05e9\u05da \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df"})]})}),P?Object(n.jsx)("h6",{style:{color:"red"},children:'\u05d9\u05e9 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc  "\u05d4\u05de\u05e9\u05da \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df" \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9 \u05e2\u05d3\u05db\u05e0\u05d9'}):null,Object(n.jsx)("div",{children:Object(n.jsx)("ul",{tyle:{listStyleType:"none"},children:J})}),Object(n.jsx)(N.a,{onClick:function(){var t=ee,a=e.db;console.log("saving all comments:"+JSON.stringify(ee)),a.orderBy("time","desc").limit(1).get().then((function(e){var n=e.docs[0],c=a.doc(n.id),i=n.data().calibrationTests,s=0;i.forEach((function(e){ee[s]&&(e.text=t[s]),s++})),console.log("updated calbs: "+JSON.stringify(i)),c.update({calibrationTests:i}),function(){De.apply(this,arguments)}(),re(!0)}))},children:"\u05e9\u05de\u05d5\u05e8 \u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9 \u05e0\u05d5\u05db\u05d7\u05d9"}),le?Object(n.jsx)(w.CSVLink,{data:ce,filename:"".concat(r,".csv"),className:"btn btn-primary",children:"\u05d4\u05d5\u05e8\u05d3 \u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9"}):Object(n.jsx)(N.a,{disabled:!le,children:"\u05d4\u05d5\u05e8\u05d3\u05ea \u05e0\u05d9\u05e1\u05d5\u05d9 \u05e0\u05d5\u05db\u05d7\u05d9 - \u05d9\u05e9 \u05dc\u05e9\u05de\u05d5\u05e8 \u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9 \u05e7\u05d5\u05d3\u05dd"}),Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:he?Object(n.jsx)("div",{children:ge}):Object(n.jsx)(N.a,{onClick:function(){return ke.apply(this,arguments)},children:"\u05d8\u05e2\u05d9\u05e0\u05ea \u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9\u05d9\u05dd \u05de\u05d4\u05e9\u05d1\u05d5\u05e2\u05d9\u05d9\u05dd \u05d4\u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"})})})]})},B=a(28),L=(a(33),f.collection("/BGU-lab-dev")),M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=0;e.forEach((function(e){var a=e.data();console.log(a),t=a.value})),n.setState({value:t,sliderValue:t})},n.onSliderChange=function(e){n.setState({sliderValue:e},(function(){console.log(n.state.sliderValue)}))},n.state={testCouner:0,sliderValue:0,start:!1,lastDocID:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.handleReset=n.handleReset.bind(Object(d.a)(n)),n.start=n.start.bind(Object(d.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/slider-data").onSnapshot(this.onCollectionUpdate),this.setState({sliderValue:0})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getData",value:function(){var e;return L.get().then((function(t){t.forEach((function(t){L.doc(t.id).get().then((function(t){[t].forEach((function(t){var a=t.data();console.log(t.id,a),console.log("sliderID: ".concat(a.id,", value: ").concat(a.value)),e=a.value}))}))}))})),console.log(e),e}},{key:"create",value:function(e){return L.add(e)}},{key:"update",value:function(e){L.get().then((function(t){t.forEach((function(t){L.doc(t.id).update({value:e})}))}))}},{key:"addTestScoreToDoc2",value:function(e){var t=this;L.orderBy("time","desc").limit(1).get().then((function(a){var n=a.docs[0],c=n.data(),i=(n.id,t.state.testCouner);t.state.lastDocID!==n.id&&(t.setState({lastDocID:n.id,testCouner:1}),i=1);var s=c.calibrationTests;"\u05db\u05d9\u05d5\u05dc ".concat(t.state.testCouner);t.setState((function(e){return{testCouner:e.testCouner+1}}));var o=V()("HH:MM:ss");console.log("time: "+o);var l={testNum:" \u05db\u05d9\u05d5\u05dc ".concat(i),value:e,time:o};s.push(l),L.doc(n.id).update({calibrationTests:s})}))}},{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.update(e.target.value,t)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addTestScoreToDoc2(this.state.sliderValue),this.setState({sliderValue:0})}},{key:"handleReset",value:function(e){e.preventDefault(),this.setState({sliderValue:0})}},{key:"start",value:function(e){e.preventDefault(),this.setState({sliderValue:0,start:!0})}},{key:"delete",value:function(e){return L.doc(e).delete()}},{key:"render",value:function(){return Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:this.state.start?Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{variant:"outline-primary",onClick:this.handleSubmit,children:"Submit"}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(g.a,{xs:1,children:Object(n.jsx)("h6",{style:{margin:"0px"},children:" \u05d4\u05db\u05d0\u05d1 \u05d4\u05db\u05d9 \u05d7\u05d6\u05e7"})}),Object(n.jsx)(g.a,{xs:10}),Object(n.jsx)(g.a,{xs:1,style:{marginRight:"0px",paddingLeft:"0px"},children:Object(n.jsx)("h6",{children:"\u05dc\u05d0 \u05db\u05d5\u05d0\u05d1 \u05d1\u05db\u05dc\u05dc"})})]}),Object(n.jsx)(B.a,{min:0,max:10,defaultValue:8,value:this.state.sliderValue,onChange:this.onSliderChange,step:.1,reverse:!0,railStyle:{backgroundColor:"grey",height:200},trackStyle:{backgroundColor:"red",height:200},handleStyle:{borderColor:"grey",height:200,width:1,marginLeft:-14,marginTop:0,backgroundColor:"white"}})]}):Object(n.jsx)(N.a,{onClick:this.start,children:"\u05d4\u05ea\u05d7\u05dc"})})})})})}}]),a}(c.Component),J=f.collection("/BGU-lab-dev"),F=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=0;e.forEach((function(e){var a=e.data();console.log(a),t=a.value})),n.setState({value:t,sliderValue:t})},n.onSliderChange=function(e){n.setState({sliderValue:e},(function(){console.log(n.state.sliderValue)}))},n.state={testCouner:0,sliderValue:0,start:!1,lastDocID:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.handleReset=n.handleReset.bind(Object(d.a)(n)),n.start=n.start.bind(Object(d.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/slider-data").onSnapshot(this.onCollectionUpdate),this.setState({sliderValue:0})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getData",value:function(){var e;return J.get().then((function(t){t.forEach((function(t){J.doc(t.id).get().then((function(t){[t].forEach((function(t){var a=t.data();console.log(t.id,a),console.log("sliderID: ".concat(a.id,", value: ").concat(a.value)),e=a.value}))}))}))})),console.log(e),e}},{key:"create",value:function(e){return J.add(e)}},{key:"update",value:function(e){J.get().then((function(t){t.forEach((function(t){J.doc(t.id).update({value:e})}))}))}},{key:"addTestScoreToDoc2",value:function(e){var t=this;J.orderBy("time","desc").limit(1).get().then((function(a){var n=a.docs[0],c=n.data(),i=(n.id,t.state.testCouner);t.state.lastDocID!==n.id&&(t.setState({lastDocID:n.id,testCouner:1}),i=1);var s=c.calibrationTests;t.setState((function(e){return{testCouner:e.testCouner+1}}));var o=V()("HH:MM:ss"),l={testNum:" \u05db\u05d0\u05d1 \u05d0\u05e8\u05d5\u05da  ".concat(i),value:e,time:o};s.push(l),J.doc(n.id).update({calibrationTests:s})}))}},{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.update(e.target.value,t)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addTestScoreToDoc2(this.state.sliderValue),this.setState({sliderValue:0})}},{key:"handleReset",value:function(e){e.preventDefault(),this.setState({sliderValue:0})}},{key:"start",value:function(e){e.preventDefault(),this.setState({sliderValue:0,start:!0})}},{key:"delete",value:function(e){return J.doc(e).delete()}},{key:"render",value:function(){return Object(n.jsx)(O.a,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:this.state.start?Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{variant:"outline-primary",onClick:this.handleSubmit,children:"Submit"}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(g.a,{xs:1,children:Object(n.jsx)("h6",{style:{margin:"0px"},children:" \u05d4\u05db\u05d0\u05d1 \u05d4\u05db\u05d9 \u05d7\u05d6\u05e7"})}),Object(n.jsx)(g.a,{xs:10}),Object(n.jsx)(g.a,{xs:1,style:{marginRight:"0px",paddingLeft:"0px"},children:Object(n.jsx)("h6",{children:"\u05dc\u05d0 \u05db\u05d5\u05d0\u05d1 \u05d1\u05db\u05dc\u05dc"})})]}),Object(n.jsx)(B.a,{min:0,max:10,defaultValue:8,value:this.state.sliderValue,onChange:this.onSliderChange,step:.1,reverse:!0,railStyle:{backgroundColor:"grey",height:200},trackStyle:{backgroundColor:"red",height:200},handleStyle:{borderColor:"grey",height:200,width:1,marginLeft:-14,marginTop:0,backgroundColor:"white"}})]}):Object(n.jsx)(N.a,{onClick:this.start,children:"\u05d4\u05ea\u05d7\u05dc"})})}),Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{})})]})})}}]),a}(c.Component),G=f.collection("/BGU-lab-dev"),H=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=0;e.forEach((function(e){var a=e.data();console.log(a),t=a.value})),n.setState({value:t,sliderValue:t})},n.onSliderChange=function(e){n.setState({sliderValue:e},(function(){console.log(n.state.sliderValue)}))},n.state={testCouner:0,sliderValue:0,start:!1,lastDocID:"",firstName:"",lastName:"",saved:!1},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/slider-data").onSnapshot(this.onCollectionUpdate),this.setState({sliderValue:0})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getData",value:function(){var e;return G.get().then((function(t){t.forEach((function(t){G.doc(t.id).get().then((function(t){[t].forEach((function(t){var a=t.data();console.log(t.id,a),console.log("sliderID: ".concat(a.id,", value: ").concat(a.value)),e=a.value}))}))}))})),console.log(e),e}},{key:"update",value:function(e){G.get().then((function(t){t.forEach((function(t){G.doc(t.id).update({value:e})}))}))}},{key:"handleChange",value:function(e){var t=e.target.value,a={};a[e.target.name]=t,this.setState(a)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(S.a.mark((function e(t){var a=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),G.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0],n=(t.data(),t.id,{firstName:a.state.firstName,lastName:a.state.lastName});G.doc(t.id).update(n),console.log("updating doc with: "+JSON.stringify(n)),a.setState({saved:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)(O.a,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{name:"firstName",value:this.state.firstName,onChange:this.handleChange}),":\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"]})})}),Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{name:"lastName",value:this.state.lastName,onChange:this.handleChange}),":\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"]})})}),Object(n.jsx)("input",{type:"submit",value:"Submit"})]}),this.state.saved?Object(n.jsx)("h6",{children:"\u05e0\u05e9\u05de\u05e8"}):null]})})}}]),a}(c.Component),P=(a(86),f.collection("/BGU-lab-dev")),A=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=0;e.forEach((function(e){var a=e.data();console.log(a),t=a.value})),n.setState({value:t,sliderValue:t})},n.onSliderChange=function(e){n.setState({sliderValue:e},(function(){console.log(n.state.sliderValue)}))},n.state={testCouner:0,sliderValue:0,start:!1,lastDocID:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.handleReset=n.handleReset.bind(Object(d.a)(n)),n.start=n.start.bind(Object(d.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/slider-data").onSnapshot(this.onCollectionUpdate),this.setState({sliderValue:0})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getData",value:function(){var e;return P.get().then((function(t){t.forEach((function(t){P.doc(t.id).get().then((function(t){[t].forEach((function(t){var a=t.data();console.log(t.id,a),console.log("sliderID: ".concat(a.id,", value: ").concat(a.value)),e=a.value}))}))}))})),console.log(e),e}},{key:"create",value:function(e){return P.add(e)}},{key:"update",value:function(e){P.get().then((function(t){t.forEach((function(t){P.doc(t.id).update({value:e})}))}))}},{key:"addTestScoreToDoc2",value:function(e){var t=this;P.orderBy("time","desc").limit(1).get().then((function(a){var n=a.docs[0],c=n.data(),i=(n.id,t.state.testCouner);t.state.lastDocID!==n.id&&(t.setState({lastDocID:n.id,testCouner:1}),i=1);var s=c.calibrationTests;t.setState((function(e){return{testCouner:e.testCouner+1}}));var o=V()("HH:MM:ss");console.log("time: "+o);var l={testNum:" \u05d0\u05d5\u05e9\u05e8 ".concat(i),value:e,time:o};s.push(l),P.doc(n.id).update({calibrationTests:s})}))}},{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.update(e.target.value,t)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addTestScoreToDoc2(this.state.sliderValue),this.setState({sliderValue:0})}},{key:"handleReset",value:function(e){e.preventDefault(),this.setState({sliderValue:0})}},{key:"start",value:function(e){e.preventDefault(),this.setState({sliderValue:0,start:!0})}},{key:"delete",value:function(e){return P.doc(e).delete()}},{key:"render",value:function(){return Object(n.jsx)(O.a,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)("h3",{children:"?\u05d1\u05e8\u05d2\u05e2 \u05d6\u05d4, \u05db\u05de\u05d4 \u05d0\u05ea\u05d4 \u05de\u05e8\u05d2\u05d9\u05e9 \u05de\u05d0\u05d5\u05e9\u05e8"}),Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:this.state.start?Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{variant:"outline-primary",onClick:this.handleSubmit,children:"Submit"}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(g.a,{xs:1,children:Object(n.jsx)("h6",{style:{margin:"0px"},children:" \u05d4\u05db\u05d9 \u05d4\u05e8\u05d1\u05d4"})}),Object(n.jsx)(g.a,{xs:10}),Object(n.jsx)(g.a,{xs:1,style:{marginRight:"0px",paddingLeft:"0px"},children:Object(n.jsx)("h6",{children:"\u05d1\u05db\u05dc\u05dc \u05dc\u05d0"})})]}),Object(n.jsx)(B.a,{min:0,max:10,defaultValue:8,value:this.state.sliderValue,onChange:this.onSliderChange,step:.1,reverse:!0,railStyle:{backgroundColor:"grey",height:200},trackStyle:{backgroundColor:"red",height:200},handleStyle:{borderColor:"grey",height:200,width:1,marginLeft:-14,marginTop:0,backgroundColor:"white"}})]}):Object(n.jsx)(N.a,{onClick:this.start,children:"\u05d4\u05ea\u05d7\u05dc"})})})]})})}}]),a}(c.Component);function W(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"\u05db\u05d9\u05d5\u05dc \u05db\u05d0\u05d1"}),Object(n.jsx)("div",{children:Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:Object(n.jsx)(M,{docRefID:e.docRefID})})})})]})}function z(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"\u05db\u05d0\u05d1 \u05d0\u05e8\u05d5\u05da"}),Object(n.jsx)("div",{children:Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:Object(n.jsx)(F,{docRefID:e.docRefID})})})})]})}var K=function(e){var t=Object(c.useState)(!1),a=Object(D.a)(t,2),i=a[0],s=a[1],o=Object(c.useState)(),l=Object(D.a)(o,2),r=l[0],d=l[1],u=Object(c.useState)("start"),h=Object(D.a)(u,2),b=h[0],j=h[1],f=Object(c.useState)("menu"),v=Object(D.a)(f,2),p=v[0],S=v[1];return Object(n.jsx)(O.a,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)("h2",{children:"\u05d3\u05e3 \u05e0\u05d1\u05d3\u05e7"}),i?Object(n.jsx)(O.a,{children:Object(n.jsxs)(g.a,{children:["menu"===p?Object(n.jsx)(O.a,{className:"text-light bg-teva-lime py-3",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(m.a,{style:{marginLeft:"auto",marginRight:"auto",width:"50%"},children:Object(n.jsxs)(x.a,{className:"mx-auto justify-content-center",children:[Object(n.jsx)(x.a.Link,{href:"",className:"px-6",onClick:function(){j("happines"),S("hide")},active:"happines"===b,children:"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05d0\u05d5\u05e9\u05e8"}),Object(n.jsx)(x.a.Link,{href:"",className:"px-6",onClick:function(){j("LongTest"),S("hide")},active:"LongTest"===b,children:"\u05e0\u05d9\u05e1\u05d5\u05d9 \u05d0\u05e8\u05d5\u05da"}),Object(n.jsx)(x.a.Link,{href:"",className:"px-6",onClick:function(){j("Calibration"),S("hide")},active:"Calibration"===b,children:"\u05db\u05d9\u05d5\u05dc \u05db\u05d0\u05d1"}),Object(n.jsx)(x.a.Link,{href:"",className:"px-6",active:"personalDetails"===b,onClick:function(){j("personalDetails"),S("hide")},children:"\u05d8\u05d5\u05e4\u05e1 \u05e4\u05e8\u05d8\u05d9 \u05e0\u05d1\u05d3\u05e7"})]})})})}):Object(n.jsx)(m.a,{className:"text-light bg-teva-lime py-3",children:Object(n.jsx)(x.a,{className:"mx-auto justify-content-center",children:Object(n.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){return S("menu")},active:"LongTest"===b,children:"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05ea\u05e4\u05e8\u05d9\u05d8"})})}),Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:"start"===b?null:"Calibration"===b?Object(n.jsx)(W,{docRefID:r}):"personalDetails"===b?Object(n.jsx)(H,{docRefID:r}):"happines"===b?Object(n.jsx)(A,{docRefID:r}):Object(n.jsx)(z,{docRefID:r})})})]})}):Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:Object(n.jsx)(N.a,{variant:"success",onClick:function(){s(!0),console.log("IN USE EFFECT"),e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0];d(t.id)}))},children:"\u05d4\u05de\u05e9\u05da"})})})]})})},_=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).getDocRefFromChild=function(e){console.log("recibed from child: ".concat(e)),n.setState({activeDocRef:e})},n.state={value:"",db:f.collection("/BGU-lab-dev"),activeDocRef:void 0,activeTab:"welcome"},n.changeTab=n.changeTab.bind(Object(d.a)(n));f.settings({timestampsInSnapshots:!0});return b.a.initialize("UA-180348020-1",{debug:!0}),b.a.pageview(window.location.pathname+window.location.search),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/BGU-lab-dev").onSnapshot(this.onCollectionUpdate)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"changeTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(v.a,{fluid:!0,className:"mx-auto justify-content-center",children:[Object(n.jsx)(O.a,{className:"text-light bg-teva-lime py-3",children:Object(n.jsx)(g.a,{children:Object(n.jsxs)(m.a,{style:{marginLeft:"auto",marginRight:"auto",width:"50%"},children:[Object(n.jsx)(x.a,{className:"mx-auto justify-content-center",children:Object(n.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){return e.changeTab("manager")},active:"manager"===this.state.activeTab,children:"\u05de\u05e0\u05d4\u05dc \u05e0\u05d9\u05e1\u05d5\u05d9"})}),Object(n.jsx)(x.a,{children:Object(n.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){return e.changeTab("experimeneter")},active:"experimeneter"===this.state.activeTab,children:"\u05e0\u05d1\u05d3\u05e7"})})]})})}),Object(n.jsx)(O.a,{children:Object(n.jsx)(g.a,{children:"welcome"===this.state.activeTab?Object(n.jsx)("h2",{children:" \u05d3\u05e3 \u05db\u05e0\u05d9\u05e1\u05d4"}):"manager"===this.state.activeTab?Object(n.jsx)(U,{db:this.state.db,docRef:this.state.activeDocRef}):Object(n.jsx)(K,{db:this.state.db,sendDocRefToParent:this.getDocRefFromChild})})})]})})}}]),a}(c.Component),Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root")),Y()}},[[90,1,2]]]);
//# sourceMappingURL=main.bd86b4d5.chunk.js.map