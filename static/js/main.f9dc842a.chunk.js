/*! For license information please see main.f9dc842a.chunk.js.LICENSE.txt */
(this["webpackJsonpslider-app"]=this["webpackJsonpslider-app"]||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},63:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(1),i=n.n(c),s=n(11),o=n.n(s),l=(n(53),n(20)),r=n(21),d=n(13),u=n(23),h=n(22),b=(n.p,n(54),n(38)),j=n(39);j.a.initializeApp({apiKey:"AIzaSyA3Jx8S_Yh6vdOI9RRP1ybnuG_Kvox093g",authDomain:"slider-app1.firebaseapp.com",databaseURL:"https://slider-app1.firebaseio.com",projectId:"slider-app1",storageBucket:"slider-app1.appspot.com",messagingSenderId:"813536171331",appId:"1:813536171331:web:ee4f67d30e6b1f45c48bf6",measurementId:"G-2PMF6CRJ79"});var f=j.a.firestore(),v=(n(24),n(72)),O=n(69),g=n(70),m=n(73),x=n(74),p=n(27),S=n(36),y=n(12),C=n(71),k=n(28),D=n.n(k),T=function(e){var t=Object(c.useState)(),n=Object(y.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(""),l=Object(y.a)(o,2),r=(l[0],l[1]),d=Object(c.useState)(""),u=Object(y.a)(d,2),h=u[0],b=u[1],j=Object(c.useState)(),f=Object(y.a)(j,2),v=f[0],m=f[1],x=Object(c.useState)([]),k=Object(y.a)(x,2),T=(k[0],k[1],Object(c.useState)(!1)),R=Object(y.a)(T,2),I=(R[0],R[1]),N=Object(c.useState)([]),V=Object(y.a)(N,2),E=V[0],w=V[1],U=Object(c.useState)(!1),L=Object(y.a)(U,2),B=L[0],F=L[1],G=Object(c.useState)(""),M=Object(y.a)(G,2),A=M[0],P=M[1],J=Object(c.useState)(),W=Object(y.a)(J,2),z=W[0],H=W[1];function K(){if(console.log("update: "+i),void 0!=i)e.db.doc(i).onSnapshot((function(e){var t=e.data();m(t),q()}),(function(e){console.log("Encountered error: ".concat(e))}))}function _(){F(!0);var t=e.db;console.log(t),t.add({fullname:"\u05d9\u05e9\u05e8\u05d0\u05dc \u05d9\u05e9\u05e8\u05d0\u05dc\u05d9",calibrationTests:[],longTests:[],time:D()(new Date,"yyyy-mm-dd HH:MM:ss")}).then((function(e){console.log("*** STARTED NEW DOC: "+e.id),P(e.id)})).then((function(){e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0],n=t.data(),a=t.id;s(a),r(n.fullname);var c=n.time.split(" ")[1].split(":");b(c[0]+":"+c[1]),I(!0),K(),q()}))}))}function Y(t){var n=t.target.value;t.target.name;H(Object(S.a)(Object(S.a)({},z),{},Object(p.a)({},t.target.name,n)));e.db}function q(){if(v)e.db.doc(i).onSnapshot((function(e){var t=e.data();console.log("*** RENDERING list of :".concat(e.id));var n=[],c=t.calibrationTests,i=0;c.forEach((function(e){i++,n.push(Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)("form",{children:Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{name:i,type:"text",value:z,onChange:Y}),e.testNum," : ",e.value]})})})}))})),console.log(e.id+" *,* "+A),n.length>0?(w(n),e.id===A&&console.log("***renering the newest list")):w(Object(a.jsx)("h6",{children:"\u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d9\u05d5\u05e2\u05d3\u05db\u05e0\u05d5 \u05db\u05d0\u05e9\u05e8 \u05d4\u05e0\u05d9\u05e1\u05d5\u05d9 \u05d9\u05d7\u05dc"}))}),(function(e){console.log("Encountered error: ".concat(e))}))}return Object(c.useEffect)((function(){return e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0],n=t.data(),a=t.id;s(a),m(e),r(n.fullname);var c=n.time.split(" ")[1].split(":");b(c[0]+":"+c[1]),I(!0),K(),q()})),function(){}}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"\u05d3\u05e3 \u05de\u05e0\u05d4\u05dc"}),Object(a.jsxs)("h6",{children:["\u05d6\u05de\u05df \u05ea\u05d7\u05d9\u05dc\u05ea \u05d4\u05e0\u05d9\u05e1\u05d5\u05d9: ",h," "]}),Object(a.jsx)(O.a,{children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)(C.a,{variant:"primary",onClick:function(){_()},children:"\u05d4\u05ea\u05d7\u05dc \u05e0\u05d9\u05e1\u05d5\u05d9 \u05e2\u05d1\u05d5\u05e8 \u05e0\u05e1\u05d9\u05d9\u05df \u05d7\u05d3\u05e9"}),"|",Object(a.jsx)(C.a,{variant:"success",onClick:function(){e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0];console.log("*** CONTINUE last doc: "+t.id),F(!1),q()}))},children:"\u05d4\u05de\u05e9\u05da \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df"})]})}),B?Object(a.jsx)("h6",{style:{color:"red"},children:"\u05d1\u05d9\u05e7\u05e9\u05ea \u05dc\u05d4\u05ea\u05d7\u05d9\u05dc \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d7\u05d3\u05e9, \u05d0\u05e0\u05d0 \u05dc\u05d7\u05e5 \u05e2\u05dc \u05d4\u05de\u05e9\u05da \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e4\u05e8\u05d8\u05d9 \u05e0\u05d9\u05e1\u05d5\u05d9 \u05d7\u05d3\u05e9"}):null,Object(a.jsx)("div",{children:Object(a.jsx)("ul",{tyle:{listStyleType:"none"},children:E})})]})},R=n(31),I=(n(41),f.collection("/BGU-lab-dev")),N=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onCollectionUpdate=function(e){var t=0;e.forEach((function(e){var n=e.data();console.log(n),t=n.value})),a.setState({value:t,sliderValue:t})},a.onSliderChange=function(e){a.setState({sliderValue:e},(function(){console.log(a.state.sliderValue)}))},a.state={testCouner:0,sliderValue:0,start:!1,lastDocID:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleReset=a.handleReset.bind(Object(d.a)(a)),a.start=a.start.bind(Object(d.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/slider-data").onSnapshot(this.onCollectionUpdate),this.setState({sliderValue:0})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getData",value:function(){var e;return I.get().then((function(t){t.forEach((function(t){I.doc(t.id).get().then((function(t){[t].forEach((function(t){var n=t.data();console.log(t.id,n),console.log("sliderID: ".concat(n.id,", value: ").concat(n.value)),e=n.value}))}))}))})),console.log(e),e}},{key:"create",value:function(e){return I.add(e)}},{key:"update",value:function(e){I.get().then((function(t){t.forEach((function(t){I.doc(t.id).update({value:e})}))}))}},{key:"addTestScoreToDoc2",value:function(e){var t=this;I.orderBy("time","desc").limit(1).get().then((function(n){var a=n.docs[0],c=a.data(),i=(a.id,t.state.testCouner);t.state.lastDocID!==a.id&&(t.setState({lastDocID:a.id,testCouner:1}),i=1);var s=c.calibrationTests;"\u05db\u05d9\u05d5\u05dc ".concat(t.state.testCouner);t.setState((function(e){return{testCouner:e.testCouner+1}}));var o={testNum:" \u05db\u05d9\u05d5\u05dc ".concat(i),value:e};s.push(o),I.doc(a.id).update({calibrationTests:s})}))}},{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.update(e.target.value,t)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addTestScoreToDoc2(this.state.sliderValue),this.setState({sliderValue:0})}},{key:"handleReset",value:function(e){e.preventDefault(),this.setState({sliderValue:0})}},{key:"start",value:function(e){e.preventDefault(),this.setState({sliderValue:0,start:!0})}},{key:"delete",value:function(e){return I.doc(e).delete()}},{key:"render",value:function(){return Object(a.jsx)(O.a,{children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:this.state.start?Object(a.jsxs)("div",{children:[Object(a.jsx)(C.a,{variant:"outline-primary",onClick:this.handleSubmit,children:"Submit"}),Object(a.jsx)(R.a,{min:0,max:10,defaultValue:8,value:this.state.sliderValue,onChange:this.onSliderChange,step:.1,reverse:!0,railStyle:{backgroundColor:"grey",height:200},trackStyle:{backgroundColor:"red",height:200},handleStyle:{borderColor:"red",height:200,width:1,marginLeft:-14,marginTop:0,backgroundColor:"white"}})]}):Object(a.jsx)(C.a,{onClick:this.start,children:"\u05d4\u05ea\u05d7\u05dc"})})}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{})})]})})}}]),n}(c.Component),V=f.collection("/BGU-lab-dev"),E=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onCollectionUpdate=function(e){var t=0;e.forEach((function(e){var n=e.data();console.log(n),t=n.value})),a.setState({value:t,sliderValue:t})},a.onSliderChange=function(e){a.setState({sliderValue:e},(function(){console.log(a.state.sliderValue)}))},a.state={testCouner:0,sliderValue:0,start:!1,lastDocID:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleReset=a.handleReset.bind(Object(d.a)(a)),a.start=a.start.bind(Object(d.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/slider-data").onSnapshot(this.onCollectionUpdate),this.setState({sliderValue:0})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getData",value:function(){var e;return V.get().then((function(t){t.forEach((function(t){V.doc(t.id).get().then((function(t){[t].forEach((function(t){var n=t.data();console.log(t.id,n),console.log("sliderID: ".concat(n.id,", value: ").concat(n.value)),e=n.value}))}))}))})),console.log(e),e}},{key:"create",value:function(e){return V.add(e)}},{key:"update",value:function(e){V.get().then((function(t){t.forEach((function(t){V.doc(t.id).update({value:e})}))}))}},{key:"addTestScoreToDoc2",value:function(e){var t=this;V.orderBy("time","desc").limit(1).get().then((function(n){var a=n.docs[0],c=a.data(),i=(a.id,t.state.testCouner);t.state.lastDocID!==a.id&&(t.setState({lastDocID:a.id,testCouner:1}),i=1);var s=c.calibrationTests;t.setState((function(e){return{testCouner:e.testCouner+1}}));var o={testNum:" \u05db\u05d0\u05d1 \u05d0\u05e8\u05d5\u05da  ".concat(i),value:e};s.push(o),V.doc(a.id).update({calibrationTests:s})}))}},{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.update(e.target.value,t)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addTestScoreToDoc2(this.state.sliderValue),this.setState({sliderValue:0})}},{key:"handleReset",value:function(e){e.preventDefault(),this.setState({sliderValue:0})}},{key:"start",value:function(e){e.preventDefault(),this.setState({sliderValue:0,start:!0})}},{key:"delete",value:function(e){return V.doc(e).delete()}},{key:"render",value:function(){return Object(a.jsx)(O.a,{children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:this.state.start?Object(a.jsxs)("div",{children:[Object(a.jsx)(C.a,{variant:"outline-primary",onClick:this.handleSubmit,children:"Submit"}),Object(a.jsx)(R.a,{min:0,max:10,defaultValue:8,value:this.state.sliderValue,onChange:this.onSliderChange,step:.1,reverse:!0,railStyle:{backgroundColor:"grey",height:200},trackStyle:{backgroundColor:"red",height:200},handleStyle:{borderColor:"red",height:200,width:1,marginLeft:-14,marginTop:0,backgroundColor:"white"}})]}):Object(a.jsx)(C.a,{onClick:this.start,children:"\u05d4\u05ea\u05d7\u05dc"})})}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{})})]})})}}]),n}(c.Component);n(63);function w(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"\u05db\u05d9\u05d5\u05dc \u05db\u05d0\u05d1"}),Object(a.jsx)("div",{children:Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(N,{docRefID:e.docRefID})})})})]})}function U(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"\u05db\u05d0\u05d1 \u05d0\u05e8\u05d5\u05da"}),Object(a.jsx)("div",{children:Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(E,{docRefID:e.docRefID})})})})]})}var L=function(e){var t=Object(c.useState)(!1),n=Object(y.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(),l=Object(y.a)(o,2),r=l[0],d=l[1],u=Object(c.useState)("start"),h=Object(y.a)(u,2),b=h[0],j=h[1],f=Object(c.useState)("menu"),v=Object(y.a)(f,2),p=v[0],S=v[1];return Object(a.jsx)(O.a,{children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)("h2",{children:"\u05d3\u05e3 \u05e0\u05e1\u05d9\u05d9\u05df"}),i?Object(a.jsx)(O.a,{children:Object(a.jsxs)(g.a,{children:["menu"===p?Object(a.jsx)(O.a,{className:"text-light bg-teva-lime py-3",children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(m.a,{style:{marginLeft:"auto",marginRight:"auto",width:"50%"},children:[Object(a.jsx)(x.a,{className:"mx-auto justify-content-center",children:Object(a.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){j("LongTest"),S("hide")},active:"LongTest"===b,children:"\u05e0\u05d9\u05e1\u05d5\u05d9 \u05d0\u05e8\u05d5\u05da"})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){j("Calibration"),S("hide")},active:"Calibration"===b,children:"\u05db\u05d9\u05d5\u05dc \u05db\u05d0\u05d1"})})]})})}):Object(a.jsx)(m.a,{className:"text-light bg-teva-lime py-3",children:Object(a.jsx)(x.a,{className:"mx-auto justify-content-center",children:Object(a.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){return S("menu")},active:"LongTest"===b,children:"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05ea\u05e4\u05e8\u05d9\u05d8"})})}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:"start"===b?null:"Calibration"===b?Object(a.jsx)(w,{docRefID:r}):Object(a.jsx)(U,{docRefID:r})})})]})}):Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(C.a,{variant:"success",onClick:function(){s(!0),console.log("IN USE EFFECT"),e.db.orderBy("time","desc").limit(1).get().then((function(e){var t=e.docs[0];d(t.id)}))},children:"\u05d4\u05de\u05e9\u05da"})})})]})})},B=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).getDocRefFromChild=function(e){console.log("recibed from child: ".concat(e)),a.setState({activeDocRef:e})},a.state={value:"",db:f.collection("/BGU-lab-dev"),activeDocRef:void 0,activeTab:"welcome"},a.changeTab=a.changeTab.bind(Object(d.a)(a));f.settings({timestampsInSnapshots:!0});return b.a.initialize("UA-180348020-1",{debug:!0}),b.a.pageview(window.location.pathname+window.location.search),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribe=f.collection("/BGU-lab-dev").onSnapshot(this.onCollectionUpdate)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"changeTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(v.a,{fluid:!0,className:"mx-auto justify-content-center",children:[Object(a.jsx)(O.a,{className:"text-light bg-teva-lime py-3",children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(m.a,{style:{marginLeft:"auto",marginRight:"auto",width:"50%"},children:[Object(a.jsx)(x.a,{className:"mx-auto justify-content-center",children:Object(a.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){return e.changeTab("manager")},active:"manager"===this.state.activeTab,children:"\u05de\u05e0\u05d4\u05dc \u05e0\u05d9\u05e1\u05d5\u05d9"})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(x.a.Link,{href:"",className:"px-4",onClick:function(){return e.changeTab("experimeneter")},active:"experimeneter"===this.state.activeTab,children:"\u05e0\u05e1\u05d9\u05d9\u05df"})})]})})}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:"welcome"===this.state.activeTab?Object(a.jsx)("h2",{children:" \u05d3\u05e3 \u05db\u05e0\u05d9\u05e1\u05d4"}):"manager"===this.state.activeTab?Object(a.jsx)(T,{db:this.state.db,docRef:this.state.activeDocRef}):Object(a.jsx)(L,{db:this.state.db,sendDocRefToParent:this.getDocRefFromChild})})})]})})}}]),n}(c.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(B,{})}),document.getElementById("root")),F()}},[[67,1,2]]]);
//# sourceMappingURL=main.f9dc842a.chunk.js.map